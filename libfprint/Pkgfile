# Description: Libfprint is the component which does the dirty work of talking to fingerprint reading devices, and processing fingerprint data.
# URL:         https://fprint.freedesktop.org/
# Maintainer:  Stu
# Packager:    Stu
# Depends on: pkg-config, nss, glib, gtk3, meson, libgusb

name=libfprint
version=1.90.0
release=1
source=(https://gitlab.freedesktop.org/libfprint/libfprint/uploads/1bba17b5daa130aa548bc7ea96dc58c4/libfprint-$version.tar.xz)

build () {
    cd $name-$version
    meson --prefix=/usr --buildtype=release -Ddoc=false build && cd build
    ninja
    DESTDIR=$PKG ninja install
    rm -rf $PKG/usr/info
    # Small fix for broken udev rules file. Regularly test for removal.
    sed -e '1,2d' -i $PKG/lib/udev/rules.d/60-fprint-autosuspend.rules
}
